<html>
  <head>
	<link href="/css/bootstrap.css" rel="stylesheet">
	<link href="/css/angular-ui.css" rel="stylesheet">
	<link href="/css/select2.css" rel="stylesheet"/>
	<link rel="stylesheet/less" type="text/css" href="/components/toolbar/toolbar.less">
	<link rel="stylesheet/less" type="text/css" href="css/boxie.less">
	<link rel="stylesheet/less" type="text/css" href="/css/indx-ui/indx-ui.less">
	<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
	<title>BOXXIE Box Explorer</title>
  </head>
  <body>
  <div ng-app="boxie" ng-cloak>
  		<div class="alert alert-danger" ng-show="false">Failed to load</div>
  		<div ng-show="!selectedUser || !selectedBox"> <!-- we'll get rid of this one day -->
			<toolbar box-var='selectedBox' username-var='selectedUser'></toolbar>

			<div class="container">
				<div ng-show="!selectedUser" class="need-log-in">
					<div class="white-cover"></div>
					<div class="center-title"><h2 class="alert alert-info">Please log in</h2></div>
					<div class="instruct-arrow">
						<div class="arrow-horiz">
							<div class="arrow-horiz-line"></div>
						</div>
						<div class="arrow-vert">
							<div class="arrow-vert-line"></div>
							<div class="arrow-head-up"></div>
						</div>
					</div>
				</div>
				<div ng-show="selectedUser && !selectedBox" class="need-select-box">
					<div class="white-cover"></div>
					<div class="center-title"><h2 class="alert alert-info">Please select a box</h2></div>
					<div class="instruct-arrow">
						<div class="arrow-horiz">
							<div class="arrow-horiz-line"></div>
						</div>
						<div class="arrow-vert">
							<div class="arrow-vert-line"></div>
							<div class="arrow-head-up"></div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div ng-show="selectedUser && selectedBox">
			<div class="indx-navbars">
				<nav class="indx-sidebar indx-navbar" role="navigation">
					<div class="navbar-header">
						<a href="#" class="navbar-brand">BOXIE</a>
					</div>
					<ul class="nav navbar-nav navbar-right">
						<li><a href="#" ng-click=""><i class="icon-plus"></i></a></li>
					</ul>
				</nav>
				<nav class="indx-main indx-navbar" role="navigation">
					<div href="#" class="navbar-header">
						<span class="navbar-brand hidden-xs">Object Explorer</span>
					</div>
					<ul class="nav navbar-nav navbar-left hidden-xs">
						<li><a href="#" ng-click="todoLists.selected.edit()"><i class="icon-cog"></i></a></li>
					</ul>
					<ul class="nav navbar-nav navbar-right">
						<li ng-show="!search"><a href="#" ng-click="search = true"><i class="icon-search"></i></a></li>
						<li ng-show="search" ng-animate="'fade'">
							<form role="search">
								<div class="form-group">
									<div class="row">
										<div class="col-sm-2 col-xs-3">
											<button class="btn btn-default" ng-click="showCompleted = !showCompleted;" ng-class="{ active: showCompleted }" title="Show completed todos"><i class="icon-list"></i></button>
										</div>
										<div class="col-sm-10 col-xs-9">
											<input class="form-control" type="text" placeholder="search" ng-model="searchText">
											<a href="#" class="clearSearch" ng-click="searchText = ''; search = false;"><i class="icon-remove-sign"></i></a>
										</div>
									</div>
								</div>
							</form>
						</li>
  						<li><a href="#" ng-click="todoLists.selected.todos.newModel()"><i class="icon-plus"></i></a></li>
					</ul>
				</nav>
			</div>


			<div class="indx-content">
				<div class="indx-sidebar">
					<ul class="indx-list-flat todo-lists">
						<li ng-repeat="todoList in todoLists.allModels" ng-click="todoList.select()" ng-class="{ active: todoList.isSelected }"><a href="#">{{ pop(todoList.get('title')) }}</a></li>
					</ul>
				</div>

				<div class="indx-main" ng-view></div>
			</div>
		</div>
		<div ng-show="objs.selected.isEditing">
			<div class="modal" style="display: block">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" ng-click="objs.selected.restore()" aria-hidden="true">&times;</button>
							<h4 class="modal-title">Edit object</h4>
						</div>
						<div class="modal-body">
							<textarea>{{ pop(objs.selected.get('val-string')) }}</textarea>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" ng-click="objs.selected.restore()"><span class="glyphicon glyphicon-remove"></span> Close</button>
							<button type="button" class="btn btn-primary" ng-click="objs.selected.saveStaged()"><span class="glyphicon glyphicon-ok"></span> Save</button>
						</div>
					</div><!-- /.modal-content -->
				</div><!-- /.modal-dialog -->
			</div><!-- /.modal -->
		</div>

	</div>
  </body>
  <script src="/js/vendor/lesscss.min.js" type="text/javascript"></script>
  <script src="/js/vendor/jquery.min.js" type="text/javascript"></script>
  <script src="/js/vendor/underscore.min.js" type="text/javascript"></script>
  <script src="/js/vendor/backbone.min.js" type="text/javascript"></script>
  <script src="/js/vendor/bootstrap.min.js" type="text/javascript"></script>
  <!-- angular -->
  <script src="/js/vendor/angular.min.js" type="text/javascript"></script>
  <script src="/js/vendor/angular-ui.js" type="text/javascript"></script>

  <!-- indx -->
  <script src="/js/indx.js" type="text/javascript"></script>
  <script src="/js/indx-utils.js" type="text/javascript"></script>
  <script src="/js/indx-collection.js" type="text/javascript"></script>
  <script src="/components/toolbar/toolbar.js" type="text/javascript"></script>
  <script src="js/boxie.js" type="text/javascript"></script>
  <link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/default.min.css">
<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>

</html>
